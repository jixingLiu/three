<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <canvas id="canvas" width="600" height="400">
        你的浏览器不支持canvas,请下载最新版本的浏览器！
    </canvas>
    <script>
        //创建画布并获取上下文
        var canvas = document.getElementById("canvas");
        var ctx = canvas.getContext('2d');

        //添加图片
        var imageData = ctx.createImageData(50, 200);
        var numPixels = imageData.width * imageData.height;
        var pixels = imageData.data;
        for (var i = 0; i < numPixels; i++) {
            pixels[i * 4] =255- Math.floor(Math.random() * 255); // Red 
            pixels[i * 4 + 1] =255- Math.floor(Math.random() * 255); // Green 
            pixels[i * 4 + 2] =255- Math.floor(Math.random() * 255); // Blue 
            pixels[i * 4 + 3] = 255; // Alpha
        };
        ctx.putImageData(imageData, 0, 0);
        // //创建马赛克
        // var imageData = ctx.createImageData(500, 500);
        // var pixels = imageData.data;
        // var numRows = 4;
        // var numCols = 4;

        // var tileWidth = imageData.width / numCols; //125
        // var tileHeight = imageData.height / numRows; //125
        // // 遍历行
        // for (let r = 0; r < numRows; r++) {
        //     // 遍历块
        //     for (let c = 0; c < numCols; c++) {
        //         var red = Math.floor(Math.random() * 255);
        //         var green = Math.floor(Math.random() * 255);
        //         var blue = Math.floor(Math.random() * 255);
        //         //当前访问像素的行
        //         for (var tr = 0; tr < tileHeight; tr++) {
        //             //当前访问像素的列
        //             for (var tc = 0; tc < tileWidth; tc++) {
        //                 var trueX = (c * tileWidth) + tc;
        //                 var trueY = (r * tileHeight) + tr;
        //                 var pos = (trueY * (imageData.width * 4)) + (trueX * 4);
        //                 pixels[pos] = red;
        //                 pixels[pos + 1] = green;
        //                 pixels[pos + 2] = blue;
        //                 pixels[pos + 3] = 255;
        //             };
        //         };
        //     }
        // }
        // ctx.putImageData(imageData, 0, 0);
    </script>
</body>

</html>